<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>TownyTracker</title>

        <link rel="stylesheet" href="../assets/css/style.css" type="text/css" />
        <link
            rel="stylesheet"
            href="../assets/css/search.css"
            type="text/css"
        />
        <link
            rel="stylesheet"
            href="../assets/css/townList.css"
            type="text/css"
        />
        <link
            rel="stylesheet"
            href="../assets/css/playerList.css"
            type="text/css"
        />
        <link
            rel="stylesheet"
            href="../assets/css/townInfo.css"
            type="text/css"
        />
        <link
            rel="stylesheet"
            href="../assets/css/playerInfo.css"
            type="text/css"
        />
        <script type="text/javascript" src="../assets/js/index.js"></script>
    </head>
    <body onload="on_load();">
        <div id="updateWrapper">
            <div id="searchWrapper">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink"
                    enable-background="new 0 0 32 32"
                    viewBox="0 0 32 32"
                    xml:space="preserve"
                >
                    <path
                        d="M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z"
                    />
                </svg>
                <input
                    type="text"
                    name="search"
                    id="searchBar"
                    placeholder="Search"
                    oninput="search();"
                />
                <div id="advancedSearch">
                    <div id="townsSearch" class="container">
                        <div>
                            <label for="nation">Nation: </label>
                            <input
                                id="searchNation"
                                name="nation"
                                type="text"
                                oninput="search();"
                            />
                        </div>
                        <div>
                            <label for="mayor">Mayor: </label>
                            <input
                                id="searchMayor"
                                name="mayor"
                                type="text"
                                oninput="search();"
                            />
                        </div>
                        <div>
                            <label for="member">Member: </label>
                            <input
                                id="searchMember"
                                name="member"
                                type="text"
                                oninput="search();"
                            />
                        </div>
                        <div>
                            <label for="pvp">PVP: </label>
                            <select
                                id="searchPvp"
                                class="dropdown"
                                name="pvp"
                                oninput="search();"
                                data-default="all"
                            >
                                <option value="all" selected>All</option>
                                <option value="true">Enabled</option>
                                <option value="false">Disabled</option>
                            </select>
                        </div>
                        <label for="searchCoords"
                            >Has claimed chunk around:</label
                        >
                        <div class="searchCoords" id="searchCoordsTown">
                            <input
                                id="searchCoordsTownX"
                                type="number"
                                placeholder="X"
                                oninput="javascript: if (this.value.length > (this.value.startsWith('-') ? 6 : 5)) this.value = this.value.slice(0, (this.value.startsWith('-') ? 6 : 5)); search();"
                            />
                            <input
                                id="searchCoordsTownY"
                                type="number"
                                placeholder="Y"
                                oninput="javascript: if (this.value.length > (this.value.startsWith('-') ? 6 : 5)) this.value = this.value.slice(0, (this.value.startsWith('-') ? 6 : 5)); search();"
                            />
                            <input
                                id="searchCoordsTownRad"
                                type="number"
                                placeholder="Radius"
                                oninput="javascript: if (this.value.length > 4) this.value = this.value.slice(0, 5); search();"
                            />
                        </div>
                        <div class="clearFields">
                            <span onclick="clear_search_fields('towns');"
                                >Clear</span
                            >
                        </div>
                    </div>

                    <div id="playersSearch" class="container">
                        <div>
                            <label for="world">World: </label>
                            <select
                                id="searchWorld"
                                class="dropdown"
                                name="world"
                                onchange="search();"
                                data-default="all"
                            >
                                <option value="all" selected>All</option>
                                <option value="minecraft_spawn">Spawn</option>
                                <option value="minecraft_overworld">
                                    Overworld
                                </option>
                                <option value="minecraft_resourceworld">
                                    Resource World
                                </option>
                                <option value="minecraft_the_nether">
                                    The Nether
                                </option>
                                <option value="minecraft_the_end">
                                    The End
                                </option>
                                <option value="minecraft_pvpworld">
                                    PVP World
                                </option>
                                <option value="minecraft_coven_0">
                                    Dungeon Arena
                                </option>
                                <option value="minecraft_boss">Events</option>
                            </select>
                        </div>
                        <div>
                            <label for="afk">AFK: </label>
                            <select
                                id="searchAfk"
                                class="dropdown"
                                name="afk"
                                onchange="search();"
                                data-default="all"
                            >
                                <option value="all" selected>All</option>
                                <option value="true">True</option>
                                <option value="false">False</option>
                            </select>
                        </div>
                        <div>
                            <label for="health">Health: </label>
                            <select
                                id="searchHealthType"
                                class="dropdown"
                                name="health"
                                onchange="search();"
                                data-default="equals"
                            >
                                <option value="equals" selected>Equals</option>
                                <option value="above">Above</option>
                                <option value="below">Below</option>
                            </select>
                            <input
                                id="searchHealthInput"
                                type="number"
                                placeholder="0"
                                oninput="search();"
                            />
                        </div>
                        <div>
                            <label for="armor">Armor: </label>
                            <select
                                id="searchArmorType"
                                class="dropdown"
                                name="armor"
                                onchange="search();"
                                data-default="equals"
                            >
                                <option value="equals" selected>Equals</option>
                                <option value="above">Above</option>
                                <option value="below">Below</option>
                            </select>
                            <input
                                id="searchArmorInput"
                                type="number"
                                placeholder="0"
                                oninput="search();"
                            />
                        </div>
                        <label for="searchCoords">Is around:</label>
                        <div class="searchCoords" id="searchCoordsPlayer">
                            <input
                                id="searchCoordsPlayerX"
                                type="number"
                                placeholder="X"
                                oninput="javascript: if (this.value.length > (this.value.startsWith('-') ? 6 : 5)) this.value = this.value.slice(0, (this.value.startsWith('-') ? 6 : 5)); search();"
                            />
                            <input
                                id="searchCoordsPlayerY"
                                type="number"
                                placeholder="Y"
                                oninput="javascript: if (this.value.length > (this.value.startsWith('-') ? 6 : 5)) this.value = this.value.slice(0, (this.value.startsWith('-') ? 6 : 5)); search();"
                            />
                            <input
                                id="searchCoordsPlayerRad"
                                type="number"
                                placeholder="Radius"
                                oninput="javascript: if (this.value.length > 4) this.value = this.value.slice(0, 5); search();"
                            />
                        </div>
                        <div class="clearFields">
                            <span onclick="clear_search_fields('players');"
                                >Clear</span
                            >
                        </div>
                    </div>
                </div>
            </div>
            <div id="updateTimeDropdown">
                <label for="updateTime">Update every </label>
                <select
                    id="updateTime"
                    name="updateTime"
                    onchange="change_update_time(this.value);"
                    class="dropdown"
                >
                    <option value="5">5 minutes</option>
                    <option value="10">10 minutes</option>
                    <option value="15">15 minutes</option>
                    <option value="30">30 minutes</option>
                    <option value="60">1 hour</option>
                </select>
            </div>
            <div id="update">
                <span>Update</span>
            </div>
        </div>
        <div id="sections">
            <div id="selection"></div>
            <div id="tabs">
                <div id="towns" class="section">
                    <table id="townsList">
                        <tr class="header">
                            <th class="townName">Name</th>
                            <th class="townNation">Nation</th>
                            <th class="townMayor">Mayor</th>
                            <th class="townSpawn">Spawn</th>
                        </tr>
                    </table>
                    <table id="deletedTowns">
                        <tr>
                            <th class="deletedTowns" colspan="2">
                                Deleted towns
                            </th>
                        </tr>
                    </table>
                </div>
                <div id="players" class="section">
                    <table id="playersList">
                        <tr class="header">
                            <th class="playerName">Name</th>
                            <th class="playerCoords">Coords</th>
                            <th class="playerWorld">World</th>
                            <th class="playerAfk">AFK</th>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </body>

    <script>
        function on_load() {
            set_up();
        }
    </script>
</html>
